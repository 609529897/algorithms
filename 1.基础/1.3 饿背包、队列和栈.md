# 背包、队列和栈

- 第一节：对象组织的差别，直接影响算法的效率
- 第二节：泛型和迭代
- 第三节：链式数据结构

## API

### 泛型

泛型参数只能是引用类型

```java
Stack<Integer> stack = new Stack<Integer>();
Stack.push(17);      // 自动装箱 （int -> Integer）
int i = stack.pop(); // 自动拆箱 （Integer -> int）
```

### 迭代

```java
Queue<Transaction> collection = new Queue<Transaction>();

for (Transaction t: collection) {
  StdOut.println(t);
}
```

### 背包

不支持删除元素，收集元素并迭代遍历收集到的所有元素。元素的顺序不确定并且和用例无关

```java
public class Big<Item> implements Iterable<Item> {
            Bag()
    void    add(Item item)
    boolean isEmpty()
    int     size()
}
```

### 先进先出队列

```java
public class Queue<Item> implements Iterable<Item> {
             Queue()
    void     enqueue(Item item)
    Item     dequeue()
    boolean  isEmpty()
    int      size()
}
```

### 下压栈

```java
public class Stack<Item> implements Iterable<Item> {
             Stack()
    void     push(Item item)
    Item     pop()
    boolean  isEmpty()
    int      size()
}
```

### 算术表达式求值

`(1 + (( 2 + 3 ) * (4 * 5)))`

```java
public class Evaluate {
  public static void main (String[] args) 
  {
    
    Statck<String> ops = new Stack<String>();
    Stafck<Double> vals = new Stack<String>();
    
    while (!StdIn.isEmpty()) {
      String s = StdIn.readString();
      if      (s.equals("("))                  ;  
      else if (s.equals("+"))       ops.push(s);
      else if (s.equals("-"))       ops.push(s);
      else if (s.equals("*"))       ops.push(s);
      else if (s.equals("/"))       ops.push(s);
      else if (s.equals("sqrt"))    ops.push(s);
      else if (s.equals(")"))       
      {
         String op = ops.pop();
         double v = vals.pop();
         if  (op.equals ("+")) v = vals.pop() + v;
         else if (op.equals ("-")) v = vals.pop() - v;
         else if (op.equals ("*")) v = vals.pop() * v;
         else if (op.equals ("/")) v = vals.pop() / v;
         else if (op.equals ("sqrt")) v = Math.sqrt (v);
         vals.push(v);
      }
      else vals.push(Double.parseDouble(s));
    }
    StdOut.println (vals.pop())
  }
}
```

